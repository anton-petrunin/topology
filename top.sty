\usepackage[leqno]{mathtools}%\usepackage[leqno]{amsmath}%
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{enumerate}
\usepackage{bm}
\usepackage{pifont}
\usepackage{mathrsfs}
\usepackage{epsfig,lpic,wrapfig}

\usepackage{accsupp}
\usepackage{soulutf8}
\sodef\an{}{.1em}{.5em plus.1em}{.5em plus.1em minus.1em}

\newcommand\ann[1]{%
    \BeginAccSupp{method=escape,ActualText={\detokenize{#1}}}%
      \an{#1}%
    \EndAccSupp{}%
}

\def\emph{\ann}

\usepackage{tikz}
\usetikzlibrary{arrows}

\usepackage[pdfauthor={Anton Petrunin},
colorlinks=true,
citecolor=black,
linkcolor=black,
anchorcolor=black,
filecolor=black,
menucolor=black,
urlcolor=black,
unicode
]{hyperref}

\usepackage{titling}
\newcommand{\subtitle}[1]{%
\posttitle{%
\par\end{center}
\begin{center}\large#1\end{center}
\vskip0.5em}%
}

\usepackage{titletoc}% http://ctan.org/pkg/titletoc
\titlecontents*{section}[.5em]
  {\small}
  {\thecontentslabel.~{}}
  {}
  { \textbf{\thecontentspage}}
  [; ][.]

\usepackage{mathabx}
\def\acts{\mathrel{\reflectbox{$\righttoleftarrow$}}}

\def\DD{\mathbb{D}}
\def\H{\mathrm{Homeo}}
\def\RR{\mathbb{R}}
\def\SS{\mathbb{S}}
\def\Ball{\mathrm{B}}
\def\diam{\mathrm{diam}}
\def\id{\mathrm{id}}
\def\rel#1{\textrm{(rel.~$#1$)}}

\def\eps{\varepsilon}
\def\epsilon{\varepsilon}
\def\c{\mathcal}
\def\s{\mathscr}

\def\:{\colon}
\def\emptyset{\varnothing}
\def\df{\mathrel{:=}}
\def\le{\leqslant}
\def\ge{\geqslant}

\let\oldcdot\cdot
\def\cdot{{\hskip0.5pt\z\oldcdot\hskip0.5pt}}

\newcommand*{\set}[2]{\left\{\,{#1}\,\middle|\,{#2}\,\right\}}

%THEOREM
\newcounter{thm}[chapter]
\renewcommand{\thethm}{\thechapter.\arabic{thm}}
\def\claim#1{\par\medskip\noindent\refstepcounter{thm}\hbox{\bf \arabic{chapter}.\arabic{thm}. #1.}
\it\ %\ignorespaces
}
\def\endclaim{
\par\medskip}
\newenvironment{thm}{\claim}{\endclaim}

%MY STYLE
\def\parit#1{\medskip\noindent{\it #1}}
\def\parbf#1{\medskip\noindent{\bf #1}}
\def\qeds{\qed\par\medskip}%END OF PROOF
\def\qedsf{\vskip-6mm\qeds}%END OF PROOF BY FORMULA

%RUSSIAN FORMULA HYPERNATION
\newcommand*{\z}[1]{#1\nobreak\discretionary{}%
            {\hbox{$\mathsurround=0pt #1$}}{}}

%NUMBERONCIRC
\newcommand*{\numform}[1]{\@numform{\@nameuse{c@#1}}}
\newcommand*{\@numform}[1]%
{\ifcase #1\or \ding{202}\or \ding{203}\or \ding{204}\or \ding{205}\or \ding{206}\or \ding{207}\or \ding{208}\or \ding{209}\or \ding{210}\or \ding{211}\else\@ctrerr \fi}
%EQNUMBER
\newcounter{eqtn}[chapter]
\renewcommand{\@eqnnum}{\theeqtn}
\renewcommand{\theeqtn}{\numform{eqtn}}
\newcommand{\eqlbl}[1]{\refstepcounter{eqtn}\leqno\text{\numform{eqtn}\label{#1}}}
\newcommand{\eqtag}[1]{\refstepcounter{eqtn}\tag*{\numform{eqtn}\label{#1}}}

%SUBTHEOREM 
\newcounter{subthm}[thm]
\renewcommand{\thesubthm}{\thethm\textit{\hskip-0.03em \alph{subthm}}}
\newcounter{clone}[thm]
\renewcommand{\theclone}{\textit{(\alph{subthm})}}
\newenvironment{subthm}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthm}\begin{itemize}\item[(\alph{subthm})]}{\par\refstepcounter{subthm}\label{#1}\setcounter{clone}{\value{subthm}} \addtocounter{clone}{-1}\refstepcounter{clone}\label{SHORT.#1}\begin{itemize}
\item [(\alph{subthm})]}}{\end{itemize}}

%SUBTHEOREM A
\newcounter{subthmA}[thm]
\renewcommand{\thesubthmA}{\thethm\textit{\hskip-0.05em \Alph{subthmA}}}
\newcounter{cloneA}[thm]
\renewcommand{\thecloneA}{\textit{(\Alph{subthmA})}}
\newenvironment{subthmA}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmA}\begin{itemize}\item[(\Alph{subthmA})]}{\par\refstepcounter{subthmA}\label{#1}\setcounter{cloneA}{\value{subthmA}} \addtocounter{cloneA}{-1}\refstepcounter{cloneA}\label{SHORT.#1}\begin{itemize}
\item [(\Alph{subthmA})]}}{\end{itemize}}
%SUBTHEOREM 1
\newcounter{subthmN}[thm]
\renewcommand{\thesubthmN}{\thethm-\arabic{subthmN}}
\newcounter{cloneN}[thm]
\renewcommand{\thecloneN}{\arabic{subthmN}}
\newenvironment{subthmN}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmN}\begin{itemize}\item[\arabic{subthmN})]}{\par\refstepcounter{subthmN}\label{#1}\setcounter{cloneN}{\value{subthmN}} \addtocounter{cloneN}{-1}\refstepcounter{cloneN}\label{SHORT.#1}\begin{itemize}
\item [\arabic{subthmN})]}}{\end{itemize}}


\makeatletter\renewcommand{\p@section}{\thechapter}\makeatother
\renewcommand{\thesection}{\Alph{section}}

\renewcommand{\chaptername}{Lecture}
