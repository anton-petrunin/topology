\chapter{Compactness}

\section{Definition}

Let us denote by $\{V_\alpha\}=\{V_\alpha\}_{\alpha\in \c{I}}$ a collection of sets;
we assume that $\alpha$ runs in some index set, say $\c{I}$.

\begin{thm}{Definition}
A collection $\{V_\alpha\}$ of open subsets in a topological space $\c{X}$ is called its \emph{open cover} if it covers the whole $\c{X}$;
that is, if any $x\in \c{X}$ belongs to some~$V_\alpha$.

More generally, $\{V_\alpha\}$ is an \emph{open cover of a subset} $S\subset \c{X}$ if any $s\in S$ belongs to some~$V_\alpha$.

A subset of $\{V_\alpha\}$ that is also a cover is called its \emph{subcover}.
\end{thm}

\begin{thm}{Exercise}\label{ex:open-open-cover}
Let $\{V_\alpha\}$ be an open cover of topological space $\c{X}$.
Show that $W\subset \c{X}$ is open if and only if for any $\alpha$ the intersection $W\cap V_\alpha$ is open.  
\end{thm}

\begin{thm}{Definition}
A topological space $\c{X}$ is called \emph{compact} if any cover $\{V_\alpha\}_{\alpha\in\c{I}}$ of $\c{X}$
contains a finite subcover $\{V_{\alpha_1},\z\dots,V_{\alpha_n}\}$.

Analogously, a subset $S$ in a topological space $\c{X}$ is called \emph{compact} if any cover of $S$
contains a finite subcover of $S$.
\end{thm}

Clearly, \textit{any finite topological space is compact}.
In fact, the role of compact spaces in topology reminds the role of finite sets in set theory.
The next exercise provides a source of examples of infinite compact spaces.
More interesting examples are given in Section~\ref{sec:compact-interval}.

\begin{thm}{Exercise}\label{ex:cofinite-compact}
Any set equipped with cofinite topology is compact. 
\end{thm}

\begin{thm}{Exercise}\label{ex:unbounded-noncompact}
Let $S$ be an unbounded subset of the real line; that is, for any $c\in \RR$ there is $s\in S$ such that $|s|>c$.
Show that $S$ is not compact.
\end{thm}

\begin{thm}{Exercise}\label{ex:closed-compact}
Let $S$ be a subset of $\RR$.
Assume $S$ is not closed.
Show that $S$ is not compact.
\end{thm}

\begin{thm}{Exercise}\label{ex:compact-set-subspace}
Show that a subset $S$ of a topological space is compact if and only if $S$ equipped with induced topology is a compact space.
\end{thm}

\begin{thm}{Exercise}\label{ex:noncompact-n}
Construct a topological space with two compact sets such that their intersection is not compact.
\end{thm}

\begin{thm}{Advanced exercise}\label{ex:closed-graph} 
Let $f\:\c{X}\to\c{K}$ be a map between topological spaces.
Assume $\c{K}$ is compact.
Show that $f$ is continuous if and only if its graph $\set{(x,f(x))}{x\in\c{X}}$ is a closed set in $\c{X}\times\c{K}$. 
\end{thm}

\section{Finite intersection property} 

\begin{thm}{Proposition}
Show that space $\c{X}$ is compact if for any collection of closed sets $\{Q_\alpha\}$ in $\c{X}$ such that 
\[\bigcap_{\alpha}Q_\alpha=\emptyset\]
There is a finite collection $\{Q_{\alpha_1},\dots,Q_{\alpha_n}\}$
such that
\[Q_{\alpha_1}\cap\dots\cap Q_{\alpha_n}=\emptyset.\]

\end{thm}

The condition in the above proposition is called \emph{finite intersection property}.

\parit{Proof.}
Consider the complements $V_\alpha=\c{X}\setminus Q_\alpha$.
Note that 
\[\bigcup_\alpha V_\alpha=\c{X}\setminus \left(\bigcap_{\alpha}Q_\alpha\right)=\c{X};\]
that is, $\{V_\alpha\}$ is a cover of $\c{X}$.

Choose a finite subcover $\{V_{\alpha_1},\dots,V_{\alpha_n}\}$ and observe that
\[Q_{\alpha_1}\cap\dots\cap Q_{\alpha_n}=\c{X}\setminus(V_{\alpha_1}\cup\dots\cup V_{\alpha_n})=\emptyset.\]\qedsf


\begin{thm}{Exercise}\label{ex:nested-compact}
Let $Q_1\supset Q_2\supset\dots$ be a nested sequence of closed nonempty sets in a compact space $\c{K}$.
Show that there is a point $q\in \c{K}$ such that $q\in Q_n$ for any $n$.
\end{thm}


\section{Real interval}\label{sec:compact-interval}

\begin{thm}{Theorem}
Any closed interval $[a,b]$ forms a compact subspace of the real line.  
\end{thm}

\parit{Proof.}
Set $a_0=a$ and $b_0=b$, so $[a,b]=[a_0,b_0]$.

Arguing by contradiction, assume that there is an open cover $\{V_\alpha\}$ of $[a_0,b_0]$ that has no finite subcovers.

Note that $\{V_\alpha\}$ is also a cover for two intervals 
\[[a_0,\tfrac{a_0+b_0}2]
\quad\text{and}\quad
[\tfrac{a_0+b_0}2,b_0].\]
Assume $\{V_\alpha\}$ has a finite subcover of each of these two subintervals.
Then these two subcovers together give a finite cover of $[a,b]$.
It follows that $\{V_\alpha\}$ has no finite subcovers of \textit{at least one} of these subintervals;
denote it by $[a_1,b_1]$;
so either $a_1=a_0$ and $b_1=\tfrac{a_0+b_0}2$ or $a_1=\tfrac{a_0+b_0}2$ and $b_1=b_0$.

Continuing in this manner we get a sequence of intervals 
\[[a_0,b_0]\supset [a_1,b_1]\supset\dots\] 
such that no
finite collection of sets from $\{V_\alpha\}$ covers any of the intervals $[a_n,b_n]$. 
In particular,
\[[a_n,b_n]\not\subset V_\alpha\quad\text{for any $n$ and $\alpha$.}
\eqlbl{[a,b]-not-in-V}\]

Observe that 
\begin{align*}
a_0\le a_1\le &\dots 
\\
&\dots \le b_1\le b_0,
\\
b_n-a_n&=\tfrac{b-a}{2^n}.
\end{align*}
Denote by $x$ the least upper bound of $\{a_n\}$.
Note that $x\in [a_n,b_n]$ for any $n$.%
\footnote{In fact, $a_n\to x$ and $b_n\to x$ as $n\to\infty$, but we will not use it directly.}

Since $\{V_\alpha\}$ is a cover, we can choose $V_\alpha\ni x$.
Since $V_\alpha$ is open, it contains the interval $(x-\eps,x+\eps)$ for some $\eps>0$.
Choose a large $n$ so that $\tfrac{b-a}{2^n}<\eps$.
Clearly, $V_\alpha\supset (x-\eps,x+\eps)\supset[a_n,b_n]$;
the latter contradicts~\ref{[a,b]-not-in-V}.\qeds



\section{Images}

\begin{thm}{Proposition}
Let $f\:\c{X}\to\c{Y}$ be a continuous map between topological spaces and $K$ is a compact set in $\c{X}$.
Then the image $Q\z=f(K)$ is compact in $\c{Y}$.
\end{thm}

\parit{Proof.}
Given an open cover $\{W_\alpha\}$ of $Q$, we need to find its finite subcover.

Set $V_\alpha=f^{-1}(W_\alpha)$ for each $\alpha$.
Note that $\{V_\alpha\}$ is an open cover of~$K$.
Since $K$ is compact, there is a finite subcover $\{V_{\alpha_1},\z\dots, V_{\alpha_n}\}$.
Observe that $\{W_{\alpha_1},\dots, W_{\alpha_n}\}$ is a cover of $Q$.
\qeds

\begin{thm}{Exercise}\label{ex:S1-compact}
Show that the circle $\mathbb{S}^1$ is compact.
\end{thm}

\section{Closed subsets}

\begin{thm}{Proposition}\label{prop:compact-closed}
A closed set in a compact space is compact.
\end{thm}

\parit{Proof.}
Let $Q$ be a closed set in a compact space $\c{K}$.
Since $Q$ is closed, its complement $W=\c{K}\setminus Q$ is open.

Consider an open cover $\{V_\alpha\}_{\alpha\in\c{I}}$ of $Q$.
Add to it $W$; that is, consider the collection of sets that includes $W$ and all $V_\alpha$ for $\alpha\in\c{I}$.
Note that we get an open cover of $\c{K}$.
Indeed, $W$ covers all points in the complement of $Q$ and any point of $Q$ is covered by some $V_\alpha$.

Since $\c{K}$ is compact, we can choose a finite subcover, say $\{W,V_{\alpha_1},\z\dots,V_{\alpha_n}\}$ --- without loss of generality, we can assume that it includes~$W$.
Observe that $\{V_{\alpha_1},\dots,V_{\alpha_n}\}$ is a cover of $Q$, hence the result.
\qeds

In the proof, we add an extra open set to the cover, used it, and took it away.
This type of reasoning is useful in all branches of mathematics;
sometimes it is called \emph{17 camels trick}%
\footnote{The name comes from the following mathematical parable:
\textit{A father left 17 camels to his three sons and, according to the will,
the eldest son should be given half of all camels,
the middle son the 1/3 part,
and the youngest son the 1/9.
It was impossible to follow his will until a wise man appeared.
He added his own camel, the oldest son took $18/2=9$ camels, the second son took $18/3=6$ camels, and the third son $18/9=2$ camels, the wise man took his camel and went away.}}
\cite{17-camels}.

\begin{thm}{Exercise}\label{ex:closed-bounded=compact}
Show that any closed bounded subset of the real line is compact.
\end{thm}

 
\section{Product spaces}

\begin{thm}{Theorem}\label{thm:compact-product}
Assume $\c{X}$ and $\c{Y}$ are compact topological spaces.
Then their product space $\c{X}\times\c{Y}$ is compact.
\end{thm}

The following exercise provides a partial converse.

\begin{thm}{Exercise}\label{ex:compact-product}
Suppose that a product space $\c{X}\times\c{Y}$ is nonempty and compact.
Show that its factors $\c{X}$ and $\c{Y}$ are compact.
\end{thm} 

It is instructive to solve the following exercise before reading the proof of \ref{thm:compact-product}.

\begin{thm}{Exercise}\label{ex:fake-proof(thm:compact-product)}
Find a flaw in the following argument.
\end{thm}

\parit{Fake proof of \ref{thm:compact-product}.}
Fix an open cover $\{U_\beta\}$ of $\c{X}\times\c{Y}$.
Consider all product sets $V_\alpha\times W_\alpha$ such that $V_\alpha\times W_\alpha\subset U_\beta$ for some $\beta$ (as before, $V_\alpha$ and $W_\alpha$ are open in $\c{X}$ and $\c{Y}$ respectively).
Note that $\{V_\alpha\times W_\alpha\}$ is a cover of $\c{X}\times\c{Y}$ that is inscribed in $\{U_\beta\}$.
By the observation, it is sufficient to find a finite subcover of $\{V_\alpha\times W_\alpha\}$.

Note that $\{V_\alpha\}$ is a cover of $\c{X}$.
Since $\c{X}$ is compact, we can choose its finite subcover $\{V_{\alpha_1},\dots,V_{\alpha_n}\}$.
Similarly, $\{W_\alpha\}$ is a cover of $\c{Y}$.
So we can choose its finite subcover $\{W_{\alpha_1'},\dots,W_{\alpha_m'}\}$.

Finally observe that 
\[\{V_{\alpha_1}\times W_{\alpha_1},\dots,V_{\alpha_n}\times W_{\alpha_n},V_{\alpha_1'}\times W_{\alpha_1'},\dots,V_{\alpha_m'}\times W_{\alpha_m'}\}\] is a finite cover of $\c{X}\times\c{Y}$.
\qeds


In the proof, we will need the following definition.

\begin{thm}{Definition}
Let $\{V_\alpha\}$ and $\{W_\beta\}$ be two covers of a topological space $\c{X}$.
We say that $\{V_\alpha\}$ is \emph{inscribed} in $\{W_\beta\}$ if for any $\alpha$ there is $\beta$ such that $V_\alpha\subset W_\beta$.
\end{thm}

\begin{thm}{Exercise}\label{ex:inscribed-cover-base}
Let $\s{B}$ be a base in a topological space $\c{X}$.
Show that for any cover $\{V_\alpha\}$ of $\c{X}$ there is an inscribed cover of sets in $\s{B}$.
\end{thm}

Suppose that $\{V_\alpha\}$ is \emph{inscribed} in $\{W_\beta\}$.
If $\{V_\alpha\}$ has a finite subcover $\{V_{\alpha_1},\dots,V_{\alpha_n}\}$.
Then for each $\alpha_i$ we can choose $\beta_i$ such that $V_{\alpha_i}\subset  W_{\beta_i}$.
Note that $\{W_{\beta_1},\dots,W_{\beta_n}\}$ is a finite subcover of $\{W_\beta\}$.
It proves the following:

\begin{thm}{Observation}\label{obs:inscribed-cover}
A space $\c{X}$ is compact if and only if any cover of $\c{X}$ has a finite inscribed cover. 
\end{thm}

\parit{Proof of \ref{thm:compact-product}.}
Recall that by definition of product topology, any open set in $\c{X}\times\c{Y}$ is a union of product sets 
$V_\alpha\times W_\alpha$, where $V_\alpha$ is open in $\c{X}$ and $W_\alpha$ is open in $\c{Y}$.

Fix an open cover $\{U_\beta\}$ of $\c{X}\times\c{Y}$.
Consider all product sets $V_\alpha\times W_\alpha$ such that $V_\alpha\times W_\alpha\subset U_\beta$ for some $\beta$ (as before, $V_\alpha$ and $W_\alpha$ are open in $\c{X}$ and $\c{Y}$ respectively).
Note that $\{V_\alpha\times W_\alpha\}$ is a cover of $\c{X}\times\c{Y}$ that is inscribed in $\{U_\beta\}$.
By the observation, it is sufficient to find a finite subcover of $\{V_\alpha\times W_\alpha\}$.

Fix $x \in \c{X}$.
Note that the subspace $\{x\}\times \c{Y}$ is homeomorphic to $\c{Y}$;
in particular, it is compact.
Therefore, $\{x\}\times \c{Y}$ has a finite cover $\{V_{\alpha_1}\times W_{\alpha_1},\dots,V_{\alpha_n}\times W_{\alpha_n}\}$; that is,
\[(V_{\alpha_1}\times W_{\alpha_1})\cup\dots\cup
(V_{\alpha_n}\times W_{\alpha_n})
\supset \{x\}\times \c{Y}\]
Consider the set
\[N_x=V_{\alpha_1}\cap\dots\cap V_{\alpha_n};\]
note that $N_x$ is  open in $\c{X}$.
Since $N_x\subset V_{\alpha_i}$ for any $i$, we have
\[N_x\times \c{Y}\subset (V_{\alpha_1}\times W_{\alpha_1})\cup\dots\cup
(V_{\alpha_n}\times W_{\alpha_n}).\]
Therefore
\begin{clm}{}\label{clm:Nx}
every point $x\in\c{X}$ admits an open neighborhood $N_x$ such that $N_x\times \c{Y}$ can be covered by finitely many product sets from $\{V_\alpha\times W_\alpha\}$
\end{clm}


The sets $\{N_x\}_{x\in\c{X}}$ form a cover of $\c{X}$.
Since $\c{X}$ is compact, 
there is a finite subcover $\{N_{x_1},\dots,N_{x_m}\}$.
Note that 
\[\c{X}\times\c{Y}=(N_{x_1}\times \c{Y})\cup\dots\cup (N_{x_m}\times \c{Y});\]
that is, $\c{X}\times\c{Y}$ can be covered by a finite set of sets from $\{N_x\times \c{Y}\}_{x\in\c{X}}$.
Applying \ref{clm:Nx}, we get that $\c{X}\times\c{Y}$ can be covered by finite number of product sets from $\{V_\alpha\times W_\alpha\}$.
\qeds


\section{Remarks on metric spaces}

Recall that any metric space has natural topology.
In particular we may talk about \emph{compact metric spaces}.

\begin{thm}{Proposition}\label{prop:seq-comp-metr}
A metric space $\c{M}$ is compact if and only if any sequence of points $x_n\in \c{M}$ has a converging subsequence.
\end{thm}

We will prove only the only-if part of this proposition;
the if part requires deeper diving into metric spaces.

A topological space is called \emph{sequentially compact} if any its sequence has a converging subsequence.
For general topological spaces sequential compactness does not imply compactness, and the other way around.
The theorem above states that these two notions are equivalent for metric spaces.

{\sloppy

\begin{thm}{Exercise}\label{ex:product-sequentially-compact}
Show that product of two sequentially compact spaces is sequentially compact.
\end{thm}

}

\parit{Proof of the only-if part in {prop:seq-comp-metr}.}
Choose a sequence $x_n\in \c{M}$.

Note that a point $p\in \c{M}$ is a limit of subsequence of $x_n$ if and only if for any $\eps>0$, the ball $\Ball(p,\eps)$ contains infinite number of elements of $x_n$.
Indeed, if this property holds, then we can choose $i_1$ such that $x_{i_1}\in \Ball(p,1)$, further $i_2>i_1$ such that $x_{i_2}\in \Ball(p,\tfrac12)$ and so on; on $n$\textsuperscript{th} step we get $i_n>i_{n-1}$ such that $x_{i_n}\in \Ball(p,\tfrac1n)$.
The obtained subsequence $x_{i_1},x_{i_2},\dots$ converges to $p$.

Assume the sequence $x_n$ has no converging subsequence.
Then for any point $p$ there is $\eps_p>0$ such that $\Ball(p,\eps_p)$ contains only finitely many elements of $x_n$.
Note that $\Ball(p,\eps_p)$ for all $p$ forms a cover of $\c{M}$.
Since the sequence is infinite, this cover does not have a fine subcover.
That is, if a sequence $x_n$ has no converging subsequence, then $\c{M}$ is not compact.
\qeds


\begin{thm}{Exercise}\label{ex:lebesgue-number}
Let $\{V_\alpha\}$ be a cover of a compact metric space $\c{M}$.
Show that there is $\eps > 0$ such that for every $x\in\c{M}$ there is $\alpha$ such that $V_\alpha\supset \Ball(x,\eps)$.
\end{thm}


The number $\eps$ in the exercise is called \emph{Lebesgue number} of the cover and the statement is called \emph{Lebesgue lemma}.
It is a useful tool for compact metric spaces.

\begin{thm}{Exercise}\label{ex:lebesgue=1}
Construct a noncompact metric space $\c{M}$ such that $1$ is a Lebesgue number for any of cover of $\c{M}$. 
\end{thm}

